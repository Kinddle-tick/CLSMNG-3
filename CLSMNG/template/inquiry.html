<html>
<head>
{% extends "base.html" %}
{% block section%}
            <!-- about-section -->
	<style>
	        body,select{
		        font-size:9pt;
		        font-family:Verdana;
	        }a{
		        color:red;
		        text-decoration:none;
	        }a:hover{
		        text-decoration:underline;
	        }
        </style>
        <SCRIPT LANGUAGE="JavaScript">
   <!--
        function Dsy(){
	        this.Items = {};
        }
        Dsy.prototype.add = function(id,iArray){
	        this.Items[id] = iArray;
        }
        Dsy.prototype.Exists = function(id){
	        if(typeof(this.Items[id]) == "undefined") return false;
	        return true;
        }

        function change(v){
	        var str="0";
	        for(i=0;i<v;i++){ str+=("_"+(document.getElementById(s[i]).selectedIndex-1));};
	        var ss=document.getElementById(s[v]);
	        with(ss){
		        length = 0;
		        options[0]=new Option(opt0[v],opt0[v]);
		        if(v && document.getElementById(s[v-1]).selectedIndex>0 || !v){
			        if(dsy.Exists(str)){
				        ar = dsy.Items[str];
				        for(i=0;i<ar.length;i++)options[length]=new Option(ar[i],ar[i]);
				        if(v)options[1].selected = true;
			        }
		        }
		        if(++v<s.length){change(v);}
	        }
        }
        var dsy = new Dsy();
	        dsy.add("0",["品学楼","立人楼"]);
	        dsy.add("0_0",["A区","B区","C区"]);
	        dsy.add("0_0_0",["一楼","二楼","三楼","四楼"]);
	        dsy.add("0_0_1",["一楼","二楼","三楼","四楼"]);
	        dsy.add("0_0_2",["一楼","二楼","三楼","四楼","五楼"]);
            dsy.add("0_1",["A区","B区"]);
	        dsy.add("0_1_0",["一楼","二楼","三楼","四楼"]);
	        dsy.add("0_1_1",["一楼","二楼","三楼","四楼"]);


   //-->
        </SCRIPT>
        <SCRIPT LANGUAGE = JavaScript>
       <!--
       //** Power www.w3sky.com


       var s=["s1","s2","s3"];
       var opt0 = ["楼栋","区域","楼层"];
       function setup(){
            for(i=0;i<s.length-1;i++)
            document.getElementById(s[i]).onchange=new Function("change("+(i+1)+")");
            change(0);
       }
       //-->
       </SCRIPT>
<section class="contact-section">
            <div class="pattern-layer">
                <div class="pattern-1"></div>
                <div class="pattern-2"></div>
            </div>
	<div style="padding-left: -50px"></div>
            <div class="outer-container pb-150 clearfix">
                <div class="left-column pull-left clearfix" style="margin-left:50px">
                    <div class="form-column">
                        <div class="content-box">
                            <div class="sec-title light">
                                <p>空教室查看</p>
                                <div class="shape"></div>
                                <h2>空教室查看</h2>
                            </div>
                            <div class="form-inner">
                                <form action="{% url 'ordercls:inquiry'%}" method="post">
                                          {% csrf_token %}
                                    <div class="form-group">
                                        <div style="color:white;font-size:20px">教室查询筛选：</div>
                                        <form name="frm" action="{% url 'ordercls:inquiry'%}">
                                            <select name="build" id="s1">
                                                {% for i in filter.build %}
                                                <option value="{{i}}">{{i}}</option>
                                                {% endfor %}
                                                <option value="不限">不限</option>
                                            </select>
                                            <select name="field" id="s2">
                                                {% for i in filter.field %}
                                                <option value="{{i}}">{{i}}</option>
                                                {% endfor %}
                                                <option value="不限">不限</option>
                                            </select>
                                            <select name="floor" id="s3">
                                                {% for i in filter.floor %}
                                                <option value="{{i}}">{{i}}</option>
                                                {% endfor %}
                                                <option value="不限">不限</option>
                                            </select>
											<select name="status" class="select">
                                                {% for i in filter.status %}
                                                <option value="{{i}}">{{i}}</option>
                                                {% endfor %}
                                                <option value="不限">不限</option>
											</select>
                                            <button type="submit" class="btn" style="background-color: #0d95e8">查询</button>
                                        </form>
                                    </div>
                                    <div class="form-group">
                                        <table border="1px" align="left">
                                            <tr>
                                                <th><div style="color:white;font-size:15px">教室</div></th>
                                                <th><div style="color:white;font-size:15px">使用人数</div></th>
								                <th><div style="color:white;font-size:15px">教室借用情况</div></th>
                                            </tr>
                    <!--{#room.name：教室号；room.num1/room.num2：实际使用人数/可用人数；room.state：教室借用情况#}-->
                                            {% for room in data %}
                                            <tr>
                                            <th><div style="color:white;font-size:15px">{{room.name}}</div> </th>
                                            <th><div style="color:white;font-size:15px">{{room.num1}}/{{room.num2}}</div></th>
										    <th><div style="color:white;font-size:15px">{{room.status}}</div></th>
                                            </tr>
                                            {% endfor %}
	                                    </table>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="right-column pull-left">
                    <div class="map-inner">
                        <div class="google-map" 
                            id="contact-google-map" 
                            data-map-lat="40.712776" 
                            data-map-lng="-74.005974" 
                            data-icon-path="assets/images/icons/map-marker.png"  
                            data-map-title="Brooklyn, New York, United Kingdom" 
                            data-map-zoom="12" 
                            data-markers='{
                                "marker-1": [40.712776, -74.005974, "<h4>Branch Office</h4><p>77/99 New York</p>","assets/images/icons/map-marker.png"]
                            }'>

                        </div>
                        <div class="map-info">
                            <div class="text">
                                <p>使用说明</p>
                            </div>
                            <ul class="info clearfix">
                                <li>空教室指未被各组织借用，可供个人自习使用的场所</li>
                                <li>个人可通过教室所含人数自行寻找合适的空教室自习场所</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
</section>

{% endblock%}
</head>
</html>
